---
title: kafkacat 사용법 
categories:
  - kafka
tags: 
  - kafkacat
---

카프카캣은 kafka producer/consumer 도구이며, 카프카캣을 얼마나 쉽게 사용할 수 있는지, 그리고 카프카캣으로 어떤 멋진 일을 할 수 있는지 설명 합니다.

<figure style="width: 100%" class="align-center">
  <img src="{{ site.url }}{{ site.baseurl }}/assets/images/kafka/kafkacat-cheatsheet.png" alt="">
  <figcaption></figcaption>
</figure> 

## Producer
Basic Usage
Produce a Message :
```bash
kafkacat -b <broker> -t <topic> -P
-b: Specify Kafka broker(s).
-t: Specify the target topic.
-P: Enter the producer mode
```

다음 명령은 stdin에서 입력을 읽고 테스트 토픽에 메시지를 게시하는 kafkacat Docker 컨테이너를 만듭니다. 토픽은 사용 시 자동으로 생성됩니다.
```bash
docker run -it --network host edenhill/kafkacat:1.5.0 \
				-b kafka:9092 \
				-t testuser01 \
				-P
```

docker run -it --network kafka-net edenhill/kafkacat:1.5.0 \
				-b kafka:9092 \
				-t testuser01  \
				-P

## Consumer 
```bash
kafkacat -b <broker> -t <topic> -C
-b: Specify Kafka broker(s).
-t: Specify the target topic.
-C: Enter the consumer mode.
```

#### Consume from a Specific Offset :
```bash
kafkacat -b <broker> -t <topic> -C -o <offset>
-o: Specify the offset to start consuming from.
```

#### Message Manipulation

```bash
kafkacat -b <broker> -t <source_topic> -C | kafkacat -b <broker> -t <destination_topic> -P
```

Finding Messages :
```bash
kafkacat -b <broker> -t <topic> -C -o <offset> -c <message_count> -f <format_string>
  
-c: Specify the number of messages to consume.
-f: Define a custom format string to display messages.
```

#### Advanced Operations
**Consume from the Latest Offset**
```bash
kafkacat -b <broker> -t <topic> -C -o -1
-o -1: Consume from the latest offset.
```

**Consume from the Earliest Offset**
```bash
kafkacat -b <broker> -t <topic> -C -o -2
-o -2: Consume from the earliest offset.
```

**Setting Consumer Group and Client ID**

```bash
kafkacat -b <broker> -t <topic> -C -G <consumer_group> -C -C <client_id>
-G: Specify the consumer group.
-C: Specify the client ID.
```



