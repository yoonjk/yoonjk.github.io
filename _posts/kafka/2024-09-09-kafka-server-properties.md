---
title: kafka server.properties에 대해 설명
categories:
  - kafka
tags: 
  - server
---

kafka를 시작할 때  server.properties에 대해 설명합니다.

Apache Kafka의 server.properties 파일에서 설정할 수 있는 항목인 num.partitions와 default.replication.factor에 대해 상세하게 설명하겠습니다.

1. broker.id
설명:

Kafka 클러스터에서 각 브로커를 구분하는 고유한 ID입니다. 클러스터 내에서 각각의 Kafka 브로커가 동일한 broker.id를 가질 수 없으며, 이 값은 정수로 설정됩니다. Kafka 브로커는 클러스터 내에서 유일해야 하기 때문에, broker.id가 브로커를 식별하는 중요한 역할을 합니다.
클러스터 내에서 브로커가 메타데이터 상에서 고유하게 식별되도록 하는 데 사용되며, 이 ID는 Zookeeper나 Kafka Controller에 의해 관리됩니다.
기본값:

기본값은 없습니다. 브로커를 시작하려면 반드시 설정해야 하는 필수 항목입니다.

2. num.partitions
설명: num.partitions는 새로운 토픽이 생성될 때 기본적으로 생성되는 파티션의 수를 설정합니다. 파티션은 Kafka의 분산 메시징 시스템의 핵심 구성 요소로, 데이터를 처리하고 저장하는 단위 입니다.  

용도: 이 설정은 토픽의 초기 파티션 수를 정의하며, 더 많은 파티션을 설정할수록 데이터 병렬 처리 성능이 증가합니다. 하지만 각 파티션은 별도의 오버헤드를 가지므로, 파티션 수를 잘 고려하여 설정해야 합니다.  

기본값: Kafka의 기본값은 1입니다. 즉, 새로운 토픽이 생성될 때 기본적으로 1개의 파티션이 생성됩니다.  

3. default.replication.factor
설명: default.replication.factor는 새로운 토픽이 생성될 때 기본적으로 설정되는 복제 인자의 수를 설정합니다. 복제 인자는 각 파티션의 데이터가 여러 브로커에 복제되는 수를 의미합니다.  

용도: 이 설정은 데이터의 내구성과 가용성을 높이는 데 중요한 역할을 합니다. 예를 들어, 복제 인자가 3이라면, 각 파티션의 데이터는 3개의 브로커에 복제됩니다. 이를 통해 브로커 중 하나가 실패하더라도 데이터 손실 없이 서비스가 계속 운영될 수 있습니다.  

기본값: Kafka의 기본값은 1입니다. 즉, 복제가 설정되지 않으면 기본적으로 각 파티션은 단일 브로커에만 저장됩니다.  

요약
num.partitions: 기본 파티션 수 (기본값: 1)  
default.replication.factor: 기본 복제 인자 (기본값: 1)  
이 설정들은 Kafka 토픽의 성능 및 내구성에 직접적인 영향을 미치므로, 운영 환경 및 요구 사항에 맞춰 적절히 조정하는 것이 중요합니다.